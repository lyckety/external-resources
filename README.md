# External-resources-api

## Описание

Основная идея - на микротике формировать address lists на основе bgp-анонсов автономных систем.

## API

### BGP

#### `/api/v1/bgp/as/get-info`

Получить общую информацию по автономной системе.

|  Параметр  | Обязательный |       Описание           |
|------------|--------------|--------------------------|
|  asn       |     Да       | Номер автономной системы |

#### `/api/v1/bgp/as/announces`

Получить актуальный список bgp-анонсов для автономной системы

|  Параметр  | Обязательный |       Описание                |
|------------|--------------|-------------------------------|
|  asn       |     Да       | Номер автономной системы      |
|  ip_type   |     Нет      | Тип ip-протокола (ipv4, ipv6) |

#### `/api/v1/bgp/as/get-full-info`

Получить общую информацию по автономной системе и актуальный список bgp-анонсов

|  Параметр  | Обязательный |        Описание          |
|------------|--------------|--------------------------|
|  asn       |     Да       | Номер автономной системы |

#### `/api/v1/bgp/as/get-announces-mikrotik-list`

Получить список bgp-анонсов автономной системы в виде скрипта для cli mikrotik

|  Параметр  | Обязательный |         Описание              |
|------------|--------------|-------------------------------|
|  asn       |     Да       | Номер автономной системы      |
|  ip_type   |     Да       | Тип ip-протокола (ipv4, ipv6) |
|  list_name |     Да       | Имя адрес-листа               |
|  comment   |     Да       | Комментарий к записи в листе  |

### DNS

#### `/api/v1/resolver/nslookup`

Получить список ip-адресов для указанных доменов

|       Параметр        | Обязательный |                     Описание                      |
|-----------------------|--------------|---------------------------------------------------|
|  domain_name (список) |     Да       | Домены, для которых необходимо получить список ip |

#### `/api/v1/resolver/nslookup-as-mikrotik-lis`

Получить список ip-адресов для указанных доменов в виде скрипта для cli mikrotik

|       Параметр        | Обязательный |                     Описание                      |
|-----------------------|--------------|---------------------------------------------------|
|  domain_name (список) |     Да       | Домены, для которых необходимо получить список ip |
|  list_name            |     Да       | Имя адрес-листа                                   |
|  comment_prefix       |     Да       | Начало комментария для записи в листе. Комментарий состоит из <comment_prefix>: <домен1, домен2...>  |
